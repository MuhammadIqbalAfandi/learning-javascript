<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Fetch</title>
</head>
<body>
    <form>
        <!--<input type="file" name="file" id="file" />-->
        <input type="file" multiple name="file" id="file">
        <button type="button" id="btn-upload">Upload</button>
    </form>

    <script>
       function uploadFile() {
           const formData = new FormData()
           const files = document.getElementById('file').files

           for (let i = 0; i < files.length; i++) {
               formData.append('file', files[i])
           }

           const request = new Request('http://localhost:300/api/uploads', {
               method: 'POST',
               headers: {
                   'Accept': 'application/json'
               },
               body: formData
           })

           fetch(request)
               .then(response => response.json())
               .then(response => console.log(response))
               .catch(error => console.error(error))
       }

       document.getElementById('btn-upload').onclick = uploadFile
    </script>
</body>
</html>